(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{662:function(v,_,t){"use strict";t.r(_);var e=t(6),n=Object(e.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h3",{attrs:{id:"类简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#类简介"}},[v._v("#")]),v._v(" 类简介")]),v._v(" "),t("p",[t("code",[v._v("public class DefaultMQProducer extends ClientConfig implements MQProducer")])]),v._v(" "),t("blockquote",[t("p",[t("code",[v._v("DefaultMQProducer")]),v._v("类是应用用来投递消息的入口，开箱即用，可通过无参构造方法快速创建一个生产者。主要负责消息的发送，支持同步/异步/oneway的发送方式，这些发送方式均支持批量发送。可以通过该类提供的getter/setter方法，调整发送者的参数。"),t("code",[v._v("DefaultMQProducer")]),v._v("提供了多个send方法，每个send方法略有不同，在使用前务必详细了解其意图。下面给出一个生产者示例代码，"),t("a",{attrs:{href:"https://github.com/apache/rocketmq/blob/master/example/src/main/java/org/apache/rocketmq/example/",target:"_blank",rel:"noopener noreferrer"}},[v._v("点击查看更多示例代码"),t("OutboundLink")],1),v._v("。")])]),v._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("public")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("class")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[v._v("Producer")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("{")]),v._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("public")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("static")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("void")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[v._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[v._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("]")]),v._v(" args"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(")")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("throws")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[v._v("MQClientException")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("{")]),v._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("// 创建指定分组名的生产者")]),v._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[v._v("DefaultMQProducer")]),v._v(" producer "),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v("=")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("new")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[v._v("DefaultMQProducer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[v._v('"ProducerGroupName"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(";")]),v._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("// 启动生产者")]),v._v("\n        producer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[v._v("start")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(";")]),v._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("for")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("int")]),v._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v("=")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[v._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(";")]),v._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v("<")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[v._v("128")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(";")]),v._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v("++")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(")")]),v._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("try")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("{")]),v._v("\n            \t"),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("// 构建消息")]),v._v("\n                "),t("span",{pre:!0,attrs:{class:"token class-name"}},[v._v("Message")]),v._v(" msg "),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v("=")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("new")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[v._v("Message")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[v._v('"TopicTest"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(",")]),v._v("\n                        "),t("span",{pre:!0,attrs:{class:"token string"}},[v._v('"TagA"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(",")]),v._v("\n                        "),t("span",{pre:!0,attrs:{class:"token string"}},[v._v('"OrderID188"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(",")]),v._v("\n                        "),t("span",{pre:!0,attrs:{class:"token string"}},[v._v('"Hello world"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[v._v("getBytes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[v._v("RemotingHelper")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(".")]),v._v("DEFAULT_CHARSET"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(";")]),v._v("\n\n                "),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("// 同步发送")]),v._v("\n                "),t("span",{pre:!0,attrs:{class:"token class-name"}},[v._v("SendResult")]),v._v(" sendResult "),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v("=")]),v._v(" producer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[v._v("send")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("(")]),v._v("msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(";")]),v._v("\n\n                "),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("// 打印发送结果")]),v._v("\n                "),t("span",{pre:!0,attrs:{class:"token class-name"}},[v._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(".")]),v._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[v._v("printf")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[v._v('"%s%n"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(",")]),v._v(" sendResult"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(";")]),v._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("}")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("catch")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[v._v("Exception")]),v._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(")")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("{")]),v._v("\n                e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[v._v("printStackTrace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(";")]),v._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("}")]),v._v("\n\n        producer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[v._v("shutdown")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(";")]),v._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("}")]),v._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("}")]),v._v("\n")])])]),t("p",[t("strong",[v._v("注意")]),v._v("：该类是线程安全的。在配置并启动完成后可在多个线程间安全共享。")]),v._v(" "),t("h3",{attrs:{id:"字段摘要"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#字段摘要"}},[v._v("#")]),v._v(" 字段摘要")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("字段名称")]),v._v(" "),t("th",[v._v("描述")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("DefaultMQProducerImpl")]),v._v(" "),t("td",[v._v("defaultMQProducerImpl")]),v._v(" "),t("td",[v._v("生产者的内部默认实现")])]),v._v(" "),t("tr",[t("td",[v._v("String")]),v._v(" "),t("td",[v._v("producerGroup")]),v._v(" "),t("td",[v._v("生产者分组")])]),v._v(" "),t("tr",[t("td",[v._v("String")]),v._v(" "),t("td",[v._v("createTopicKey")]),v._v(" "),t("td",[v._v("在发送消息时，自动创建服务器不存在的topic")])]),v._v(" "),t("tr",[t("td",[v._v("int")]),v._v(" "),t("td",[v._v("defaultTopicQueueNums")]),v._v(" "),t("td",[v._v("创建topic时默认的队列数量")])]),v._v(" "),t("tr",[t("td",[v._v("int")]),v._v(" "),t("td",[v._v("sendMsgTimeout")]),v._v(" "),t("td",[v._v("发送消息的超时时间")])]),v._v(" "),t("tr",[t("td",[v._v("int")]),v._v(" "),t("td",[v._v("compressMsgBodyOverHowmuch")]),v._v(" "),t("td",[v._v("压缩消息体的阈值")])]),v._v(" "),t("tr",[t("td",[v._v("int")]),v._v(" "),t("td",[v._v("retryTimesWhenSendFailed")]),v._v(" "),t("td",[v._v("同步模式下内部尝试发送消息的最大次数")])]),v._v(" "),t("tr",[t("td",[v._v("int")]),v._v(" "),t("td",[v._v("retryTimesWhenSendAsyncFailed")]),v._v(" "),t("td",[v._v("异步模式下内部尝试发送消息的最大次数")])]),v._v(" "),t("tr",[t("td",[v._v("boolean")]),v._v(" "),t("td",[v._v("retryAnotherBrokerWhenNotStoreOK")]),v._v(" "),t("td",[v._v("是否在内部发送失败时重试另一个broker")])]),v._v(" "),t("tr",[t("td",[v._v("int")]),v._v(" "),t("td",[v._v("maxMessageSize")]),v._v(" "),t("td",[v._v("消息体的最大长度")])]),v._v(" "),t("tr",[t("td",[v._v("TraceDispatcher")]),v._v(" "),t("td",[v._v("traceDispatcher")]),v._v(" "),t("td",[v._v("基于RPCHooK实现的消息轨迹插件")])])])]),v._v(" "),t("h3",{attrs:{id:"构造方法摘要"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#构造方法摘要"}},[v._v("#")]),v._v(" 构造方法摘要")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("方法名称")]),v._v(" "),t("th",[v._v("方法描述")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("DefaultMQProducer()")]),v._v(" "),t("td",[v._v("由默认参数值创建一个生产者")])]),v._v(" "),t("tr",[t("td",[v._v("DefaultMQProducer(final String producerGroup)")]),v._v(" "),t("td",[v._v("使用指定的分组名创建一个生产者")])]),v._v(" "),t("tr",[t("td",[v._v("DefaultMQProducer(final String producerGroup, boolean enableMsgTrace)")]),v._v(" "),t("td",[v._v("使用指定的分组名创建一个生产者，并设置是否开启消息轨迹")])]),v._v(" "),t("tr",[t("td",[v._v("DefaultMQProducer(final String producerGroup, boolean enableMsgTrace, final String customizedTraceTopic)")]),v._v(" "),t("td",[v._v("使用指定的分组名创建一个生产者，并设置是否开启消息轨迹及追踪topic的名称")])]),v._v(" "),t("tr",[t("td",[v._v("DefaultMQProducer(RPCHook rpcHook)")]),v._v(" "),t("td",[v._v("使用指定的hook创建一个生产者")])]),v._v(" "),t("tr",[t("td",[v._v("DefaultMQProducer(final String producerGroup, RPCHook rpcHook)")]),v._v(" "),t("td",[v._v("使用指定的分组名及自定义hook创建一个生产者")])]),v._v(" "),t("tr",[t("td",[v._v("DefaultMQProducer(final String producerGroup, RPCHook rpcHook, boolean enableMsgTrace,final String customizedTraceTopic)")]),v._v(" "),t("td",[v._v("使用指定的分组名及自定义hook创建一个生产者，并设置是否开启消息轨迹及追踪topic的名称")])])])]),v._v(" "),t("h3",{attrs:{id:"使用方法摘要"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用方法摘要"}},[v._v("#")]),v._v(" 使用方法摘要")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("返回值")]),v._v(" "),t("th",[v._v("方法名称")]),v._v(" "),t("th",[v._v("方法描述")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("void")]),v._v(" "),t("td",[v._v("createTopic(String key, String newTopic, int queueNum)")]),v._v(" "),t("td",[v._v("在broker上创建指定的topic")])]),v._v(" "),t("tr",[t("td",[v._v("void")]),v._v(" "),t("td",[v._v("createTopic(String key, String newTopic, int queueNum, int topicSysFlag)")]),v._v(" "),t("td",[v._v("在broker上创建指定的topic")])]),v._v(" "),t("tr",[t("td",[v._v("long")]),v._v(" "),t("td",[v._v("earliestMsgStoreTime(MessageQueue mq)")]),v._v(" "),t("td",[v._v("查询最早的消息存储时间")])]),v._v(" "),t("tr",[t("td",[v._v("List")]),v._v(" "),t("td",[v._v("fetchPublishMessageQueues(String topic)")]),v._v(" "),t("td",[v._v("获取topic的消息队列")])]),v._v(" "),t("tr",[t("td",[v._v("long")]),v._v(" "),t("td",[v._v("maxOffset(MessageQueue mq)")]),v._v(" "),t("td",[v._v("查询给定消息队列的最大offset")])]),v._v(" "),t("tr",[t("td",[v._v("long")]),v._v(" "),t("td",[v._v("minOffset(MessageQueue mq)")]),v._v(" "),t("td",[v._v("查询给定消息队列的最小offset")])]),v._v(" "),t("tr",[t("td",[v._v("QueryResult")]),v._v(" "),t("td",[v._v("queryMessage(String topic, String key, int maxNum, long begin, long end)")]),v._v(" "),t("td",[v._v("按关键字查询消息")])]),v._v(" "),t("tr",[t("td",[v._v("long")]),v._v(" "),t("td",[v._v("searchOffset(MessageQueue mq, long timestamp)")]),v._v(" "),t("td",[v._v("查找指定时间的消息队列的物理offset")])]),v._v(" "),t("tr",[t("td",[v._v("SendResult")]),v._v(" "),t("td",[v._v("send(Collection<Message> msgs)")]),v._v(" "),t("td",[v._v("同步批量发送消息")])]),v._v(" "),t("tr",[t("td",[v._v("SendResult")]),v._v(" "),t("td",[v._v("send(Collection<Message> msgs, long timeout)")]),v._v(" "),t("td",[v._v("同步批量发送消息")])]),v._v(" "),t("tr",[t("td",[v._v("SendResult")]),v._v(" "),t("td",[v._v("send(Collection<Message> msgs, MessageQueue messageQueue)")]),v._v(" "),t("td",[v._v("向指定的消息队列同步批量发送消息")])]),v._v(" "),t("tr",[t("td",[v._v("SendResult")]),v._v(" "),t("td",[v._v("send(Collection<Message> msgs, MessageQueue messageQueue, long timeout)")]),v._v(" "),t("td",[v._v("向指定的消息队列同步批量发送消息，并指定超时时间")])]),v._v(" "),t("tr",[t("td",[v._v("SendResult")]),v._v(" "),t("td",[v._v("send(Message msg)")]),v._v(" "),t("td",[v._v("同步单条发送消息")])]),v._v(" "),t("tr",[t("td",[v._v("SendResult")]),v._v(" "),t("td",[v._v("send(Message msg, long timeout)")]),v._v(" "),t("td",[v._v("同步发送单条消息，并指定超时时间")])]),v._v(" "),t("tr",[t("td",[v._v("SendResult")]),v._v(" "),t("td",[v._v("send(Message msg, MessageQueue mq)")]),v._v(" "),t("td",[v._v("向指定的消息队列同步发送单条消息")])]),v._v(" "),t("tr",[t("td",[v._v("SendResult")]),v._v(" "),t("td",[v._v("send(Message msg, MessageQueue mq, long timeout)")]),v._v(" "),t("td",[v._v("向指定的消息队列同步单条发送消息，并指定超时时间")])]),v._v(" "),t("tr",[t("td",[v._v("void")]),v._v(" "),t("td",[v._v("send(Message msg, MessageQueue mq, SendCallback sendCallback)")]),v._v(" "),t("td",[v._v("向指定的消息队列异步单条发送消息，并指定回调方法")])]),v._v(" "),t("tr",[t("td",[v._v("void")]),v._v(" "),t("td",[v._v("send(Message msg, MessageQueue mq, SendCallback sendCallback, long timeout)")]),v._v(" "),t("td",[v._v("向指定的消息队列异步单条发送消息，并指定回调方法和超时时间")])]),v._v(" "),t("tr",[t("td",[v._v("SendResult")]),v._v(" "),t("td",[v._v("send(Message msg, MessageQueueSelector selector, Object arg)")]),v._v(" "),t("td",[v._v("向消息队列同步单条发送消息，并指定发送队列选择器")])]),v._v(" "),t("tr",[t("td",[v._v("SendResult")]),v._v(" "),t("td",[v._v("send(Message msg, MessageQueueSelector selector, Object arg, long timeout)")]),v._v(" "),t("td",[v._v("向消息队列同步单条发送消息，并指定发送队列选择器与超时时间")])]),v._v(" "),t("tr",[t("td",[v._v("void")]),v._v(" "),t("td",[v._v("send(Message msg, MessageQueueSelector selector, Object arg, SendCallback sendCallback)")]),v._v(" "),t("td",[v._v("向指定的消息队列异步单条发送消息")])]),v._v(" "),t("tr",[t("td",[v._v("void")]),v._v(" "),t("td",[v._v("send(Message msg, MessageQueueSelector selector, Object arg, SendCallback sendCallback, long timeout)")]),v._v(" "),t("td",[v._v("向指定的消息队列异步单条发送消息，并指定超时时间")])]),v._v(" "),t("tr",[t("td",[v._v("void")]),v._v(" "),t("td",[v._v("send(Message msg, SendCallback sendCallback)")]),v._v(" "),t("td",[v._v("异步发送消息")])]),v._v(" "),t("tr",[t("td",[v._v("void")]),v._v(" "),t("td",[v._v("send(Message msg, SendCallback sendCallback, long timeout)")]),v._v(" "),t("td",[v._v("异步发送消息，并指定回调方法和超时时间")])]),v._v(" "),t("tr",[t("td",[v._v("TransactionSendResult")]),v._v(" "),t("td",[v._v("sendMessageInTransaction(Message msg, LocalTransactionExecuter tranExecuter, final Object arg)")]),v._v(" "),t("td",[v._v("发送事务消息，并指定本地执行事务实例")])]),v._v(" "),t("tr",[t("td",[v._v("TransactionSendResult")]),v._v(" "),t("td",[v._v("sendMessageInTransaction(Message msg, Object arg)")]),v._v(" "),t("td",[v._v("发送事务消息")])]),v._v(" "),t("tr",[t("td",[v._v("void")]),v._v(" "),t("td",[v._v("sendOneway(Message msg)")]),v._v(" "),t("td",[v._v("单向发送消息，不等待broker响应")])]),v._v(" "),t("tr",[t("td",[v._v("void")]),v._v(" "),t("td",[v._v("sendOneway(Message msg, MessageQueue mq)")]),v._v(" "),t("td",[v._v("单向发送消息到指定队列，不等待broker响应")])]),v._v(" "),t("tr",[t("td",[v._v("void")]),v._v(" "),t("td",[v._v("sendOneway(Message msg, MessageQueueSelector selector, Object arg)")]),v._v(" "),t("td",[v._v("单向发送消息到队列选择器的选中的队列，不等待broker响应")])]),v._v(" "),t("tr",[t("td",[v._v("void")]),v._v(" "),t("td",[v._v("shutdown()")]),v._v(" "),t("td",[v._v("关闭当前生产者实例并释放相关资源")])]),v._v(" "),t("tr",[t("td",[v._v("void")]),v._v(" "),t("td",[v._v("start()")]),v._v(" "),t("td",[v._v("启动生产者")])]),v._v(" "),t("tr",[t("td",[v._v("MessageExt")]),v._v(" "),t("td",[v._v("viewMessage(String offsetMsgId)")]),v._v(" "),t("td",[v._v("根据给定的msgId查询消息")])]),v._v(" "),t("tr",[t("td",[v._v("MessageExt")]),v._v(" "),t("td",[v._v("public MessageExt viewMessage(String topic, String msgId)")]),v._v(" "),t("td",[v._v("根据给定的msgId查询消息，并指定topic")])])])]),v._v(" "),t("h3",{attrs:{id:"字段详细信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#字段详细信息"}},[v._v("#")]),v._v(" 字段详细信息")]),v._v(" "),t("ul",[t("li",[t("p",[t("a",{attrs:{href:"http://rocketmq.apache.org/docs/core-concept/",target:"_blank",rel:"noopener noreferrer"}},[v._v("producerGroup"),t("OutboundLink")],1)]),v._v(" "),t("p",[t("code",[v._v("private String producerGroup")])]),v._v(" "),t("p",[v._v("生产者的分组名称。相同的分组名称表明生产者实例在概念上归属于同一分组。这对事务消息十分重要，如果原始生产者在事务之后崩溃，那么broker可以联系同一生产者分组的不同生产者实例来提交或回滚事务。")]),v._v(" "),t("p",[v._v("默认值：DEFAULT_PRODUCER")]),v._v(" "),t("p",[v._v("注意： 由数字、字母、下划线、横杠（-）、竖线（|）或百分号组成；不能为空；长度不能超过255。")])]),v._v(" "),t("li",[t("p",[v._v("defaultMQProducerImpl")]),v._v(" "),t("p",[t("code",[v._v("protected final transient DefaultMQProducerImpl defaultMQProducerImpl")])]),v._v(" "),t("p",[v._v("生产者的内部默认实现，在构造生产者时内部自动初始化，提供了大部分方法的内部实现。")])]),v._v(" "),t("li",[t("p",[v._v("createTopicKey")]),v._v(" "),t("p",[t("code",[v._v("private String createTopicKey = MixAll.AUTO_CREATE_TOPIC_KEY_TOPIC")])]),v._v(" "),t("p",[v._v("在发送消息时，自动创建服务器不存在的topic，需要指定Key，该Key可用于配置发送消息所在topic的默认路由。")]),v._v(" "),t("p",[v._v("默认值：TBW102")]),v._v(" "),t("p",[v._v("建议：测试或者demo使用，生产环境下不建议打开自动创建配置。")])]),v._v(" "),t("li",[t("p",[v._v("defaultTopicQueueNums")]),v._v(" "),t("p",[t("code",[v._v("private volatile int defaultTopicQueueNums = 4")])]),v._v(" "),t("p",[v._v("创建topic时默认的队列数量。")]),v._v(" "),t("p",[v._v("默认值：4")])]),v._v(" "),t("li",[t("p",[v._v("sendMsgTimeout")]),v._v(" "),t("p",[t("code",[v._v("private int sendMsgTimeout = 3000")])]),v._v(" "),t("p",[v._v("发送消息时的超时时间。")]),v._v(" "),t("p",[v._v("默认值：3000，单位：毫秒")]),v._v(" "),t("p",[v._v("建议：不建议修改该值，该值应该与broker配置中的sendTimeout一致，发送超时，可临时修改该值，建议解决超时问题，提高broker集群的Tps。")])]),v._v(" "),t("li",[t("p",[v._v("compressMsgBodyOverHowmuch")]),v._v(" "),t("p",[t("code",[v._v("private int compressMsgBodyOverHowmuch = 1024 * 4")])]),v._v(" "),t("p",[v._v("压缩消息体阈值。大于4K的消息体将默认进行压缩。")]),v._v(" "),t("p",[v._v("默认值：1024 * 4，单位：字节")]),v._v(" "),t("p",[v._v("建议：可通过DefaultMQProducerImpl.setZipCompressLevel方法设置压缩率（默认为5，可选范围[0,9]）；可通过DefaultMQProducerImpl.tryToCompressMessage方法测试出compressLevel与compressMsgBodyOverHowmuch最佳值。")])]),v._v(" "),t("li",[t("p",[v._v("retryTimesWhenSendFailed")]),v._v(" "),t("p",[t("code",[v._v("private int retryTimesWhenSendFailed = 2")])]),v._v(" "),t("p",[v._v("同步模式下，在返回发送失败之前，内部尝试重新发送消息的最大次数。")]),v._v(" "),t("p",[v._v("默认值：2，即：默认情况下一条消息最多会被投递3次。")]),v._v(" "),t("p",[v._v("注意：在极端情况下，这可能会导致消息的重复。")])]),v._v(" "),t("li",[t("p",[v._v("retryTimesWhenSendAsyncFailed")]),v._v(" "),t("p",[t("code",[v._v("private int retryTimesWhenSendAsyncFailed = 2")])]),v._v(" "),t("p",[v._v("异步模式下，在发送失败之前，内部尝试重新发送消息的最大次数。")]),v._v(" "),t("p",[v._v("默认值：2，即：默认情况下一条消息最多会被投递3次。")]),v._v(" "),t("p",[v._v("注意：在极端情况下，这可能会导致消息的重复。")])]),v._v(" "),t("li",[t("p",[v._v("retryAnotherBrokerWhenNotStoreOK")]),v._v(" "),t("p",[t("code",[v._v("private boolean retryAnotherBrokerWhenNotStoreOK = false")])]),v._v(" "),t("p",[v._v("同步模式下，消息保存失败时是否重试其他broker。")]),v._v(" "),t("p",[v._v("默认值：false")]),v._v(" "),t("p",[v._v("注意：此配置关闭时，非投递时产生异常情况下，会忽略retryTimesWhenSendFailed配置。")])]),v._v(" "),t("li",[t("p",[v._v("maxMessageSize")]),v._v(" "),t("p",[t("code",[v._v("private int maxMessageSize = 1024 * 1024 * 4")])]),v._v(" "),t("p",[v._v("消息体的最大大小。当消息体的字节数超过maxMessageSize就发送失败。")]),v._v(" "),t("p",[v._v("默认值：1024 * 1024 * 4，单位：字节")])]),v._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://github.com/apache/rocketmq/wiki/RIP-6-Message-Trace",target:"_blank",rel:"noopener noreferrer"}},[v._v("traceDispatcher"),t("OutboundLink")],1)]),v._v(" "),t("p",[t("code",[v._v("private TraceDispatcher traceDispatcher = null")])]),v._v(" "),t("p",[v._v("在开启消息轨迹后，该类通过hook的方式把消息生产者，消息存储的broker和消费者消费消息的信息像链路一样记录下来。在构造生产者时根据构造入参enableMsgTrace来决定是否创建该对象。")])])]),v._v(" "),t("h3",{attrs:{id:"构造方法详细信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#构造方法详细信息"}},[v._v("#")]),v._v(" 构造方法详细信息")]),v._v(" "),t("ol",[t("li",[t("p",[v._v("DefaultMQProducer")]),v._v(" "),t("p",[t("code",[v._v("public DefaultMQProducer()")])]),v._v(" "),t("p",[v._v("创建一个新的生产者。")])]),v._v(" "),t("li",[t("p",[v._v("DefaultMQProducer")]),v._v(" "),t("p",[t("code",[v._v("DefaultMQProducer(final String producerGroup)")])]),v._v(" "),t("p",[v._v("使用指定的分组名创建一个生产者。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("缺省值")]),v._v(" "),t("th",[v._v("描述")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("ucerGroup")]),v._v(" "),t("td",[v._v("String")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td",[v._v("DEFAULT_PRODUCER")])])])])])])]),v._v(" "),t("li",[t("p",[v._v("DefaultMQProducer")]),v._v(" "),t("p",[t("code",[v._v("DefaultMQProducer(final String producerGroup, boolean enableMsgTrace)")])]),v._v(" "),t("p",[v._v("使用指定的分组名创建一个生产者，并设置是否开启消息轨迹。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("缺省值")]),v._v(" "),t("th",[v._v("描述")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("ucerGroup")]),v._v(" "),t("td",[v._v("String")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td",[v._v("DEFAULT_PRODUCER")])]),v._v(" "),t("tr",[t("td",[v._v("leMsgTrace")]),v._v(" "),t("td",[v._v("boolean")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td",[v._v("false")])])])])])])]),v._v(" "),t("li",[t("p",[v._v("DefaultMQProducer")]),v._v(" "),t("p",[t("code",[v._v("DefaultMQProducer(final String producerGroup, boolean enableMsgTrace, final String customizedTraceTopic)")])]),v._v(" "),t("p",[v._v("使用指定的分组名创建一个生产者，并设置是否开启消息轨迹及追踪topic的名称。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("缺省值")]),v._v(" "),t("th",[v._v("描述")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("ucerGroup")]),v._v(" "),t("td",[v._v("String")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td",[v._v("DEFAULT_PRODUCER")])]),v._v(" "),t("tr",[t("td",[v._v("ook")]),v._v(" "),t("td",[v._v("RPCHook")]),v._v(" "),t("td",[v._v("否")]),v._v(" "),t("td",[v._v("null")])]),v._v(" "),t("tr",[t("td",[v._v("leMsgTrace")]),v._v(" "),t("td",[v._v("boolean")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td",[v._v("false")])]),v._v(" "),t("tr",[t("td",[v._v("omizedTraceTopic")]),v._v(" "),t("td",[v._v("String")]),v._v(" "),t("td",[v._v("否")]),v._v(" "),t("td",[v._v("RMQ_SYS_TRACE_TOPIC")])])])])])])]),v._v(" "),t("li",[t("p",[v._v("DefaultMQProducer")]),v._v(" "),t("p",[t("code",[v._v("DefaultMQProducer(RPCHook rpcHook)")])]),v._v(" "),t("p",[v._v("使用指定的hook创建一个生产者。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("缺省值")]),v._v(" "),t("th",[v._v("描述")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("ook")]),v._v(" "),t("td",[v._v("RPCHook")]),v._v(" "),t("td",[v._v("否")]),v._v(" "),t("td",[v._v("null")])])])])])])]),v._v(" "),t("li",[t("p",[v._v("DefaultMQProducer")]),v._v(" "),t("p",[t("code",[v._v("DefaultMQProducer(final String producerGroup, RPCHook rpcHook)")])]),v._v(" "),t("p",[v._v("使用指定的分组名及自定义hook创建一个生产者。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("缺省值")]),v._v(" "),t("th",[v._v("描述")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("ucerGroup")]),v._v(" "),t("td",[v._v("String")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td",[v._v("DEFAULT_PRODUCER")])]),v._v(" "),t("tr",[t("td",[v._v("ook")]),v._v(" "),t("td",[v._v("RPCHook")]),v._v(" "),t("td",[v._v("否")]),v._v(" "),t("td",[v._v("null")])])])])])])]),v._v(" "),t("li",[t("p",[v._v("DefaultMQProducer")]),v._v(" "),t("p",[t("code",[v._v("DefaultMQProducer(final String producerGroup, RPCHook rpcHook, boolean enableMsgTrace,final String customizedTraceTopic)")])]),v._v(" "),t("p",[v._v("使用指定的分组名及自定义hook创建一个生产者，并设置是否开启消息轨迹及追踪topic的名称。")]),v._v(" "),t("ul",[t("li",[v._v("入参描述：")])]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("名")]),v._v(" "),t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("缺省值")]),v._v(" "),t("th",[v._v("描述")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("oducerGroup")]),v._v(" "),t("td",[v._v("String")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td",[v._v("DEFAULT_PRODUCER")]),v._v(" "),t("td",[v._v("生产者的分组名称")])]),v._v(" "),t("tr",[t("td",[v._v("cHook")]),v._v(" "),t("td",[v._v("RPCHook")]),v._v(" "),t("td",[v._v("否")]),v._v(" "),t("td",[v._v("null")]),v._v(" "),t("td",[v._v("每个远程命令执行后会回调rpcHook")])]),v._v(" "),t("tr",[t("td",[v._v("ableMsgTrace")]),v._v(" "),t("td",[v._v("boolean")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td",[v._v("false")]),v._v(" "),t("td",[v._v("是否开启消息轨迹")])]),v._v(" "),t("tr",[t("td",[v._v("stomizedTraceTopic")]),v._v(" "),t("td",[v._v("String")]),v._v(" "),t("td",[v._v("否")]),v._v(" "),t("td",[v._v("RMQ_SYS_TRACE_TOPIC")]),v._v(" "),t("td",[v._v("消息轨迹topic的名称")])])])])])]),v._v(" "),t("h3",{attrs:{id:"使用方法详细信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用方法详细信息"}},[v._v("#")]),v._v(" 使用方法详细信息")]),v._v(" "),t("ol",[t("li",[t("p",[v._v("createTopic")]),v._v(" "),t("p",[t("code",[v._v("public void createTopic(String key, String newTopic, int queueNum)")])]),v._v(" "),t("p",[v._v("在broker上创建一个topic。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("String")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("访问密钥。")])]),v._v(" "),t("tr",[t("td",[v._v("opic")]),v._v(" "),t("td",[v._v("String")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")]),v._v(" "),t("tr",[t("td",[v._v("eNum")]),v._v(" "),t("td",[v._v("int")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td",[v._v("0")]),v._v(" "),t("td",[v._v("(0, maxIntValue]")])])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("void")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - 生产者状态非Running；未找到broker等客户端异常。")])])])]),v._v(" "),t("li",[t("p",[v._v("createTopic")]),v._v(" "),t("p",[t("code",[v._v("public void createTopic(String key, String newTopic, int queueNum, int topicSysFlag)")])]),v._v(" "),t("p",[v._v("在broker上创建一个topic。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("String")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("访问密钥。")])]),v._v(" "),t("tr",[t("td",[v._v("opic")]),v._v(" "),t("td",[v._v("String")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")]),v._v(" "),t("tr",[t("td",[v._v("eNum")]),v._v(" "),t("td",[v._v("int")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td",[v._v("0")]),v._v(" "),t("td",[v._v("(0, maxIntValue]")])]),v._v(" "),t("tr",[t("td",[v._v("cSysFlag")]),v._v(" "),t("td",[v._v("int")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td",[v._v("0")]),v._v(" "),t("td")])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("void")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - 生产者状态非Running；未找到broker等客户端异常。")])])])]),v._v(" "),t("li",[t("p",[v._v("earliestMsgStoreTime")]),v._v(" "),t("p",[t("code",[v._v("public long earliestMsgStoreTime(MessageQueue mq)")])]),v._v(" "),t("p",[v._v("查询最早的消息存储时间。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("MessageQueue")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("要查询的消息队列")])])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("指定队列最早的消息存储时间。单位：毫秒。")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - 生产者状态非Running；没有找到broker；broker返回失败；网络异常；线程中断等客户端异常。")])])])]),v._v(" "),t("li",[t("p",[v._v("fetchPublishMessageQueues")]),v._v(" "),t("p",[t("code",[v._v("public List<MessageQueue> fetchPublishMessageQueues(String topic)")])]),v._v(" "),t("p",[v._v("获取topic的消息队列。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("c")]),v._v(" "),t("td",[v._v("String")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("传入topic下的消息队列。")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - 生产者状态非Running；没有找到broker；broker返回失败；网络异常；线程中断等客户端异常。")])])])]),v._v(" "),t("li",[t("p",[v._v("maxOffset")]),v._v(" "),t("p",[t("code",[v._v("public long maxOffset(MessageQueue mq)")])]),v._v(" "),t("p",[v._v("查询消息队列的最大物理偏移量。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("MessageQueue")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("要查询的消息队列")])])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("给定消息队列的最大物理偏移量。")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - 生产者状态非Running；没有找到broker；broker返回失败；网络异常；线程中断等客户端异常。")])])])]),v._v(" "),t("li",[t("p",[v._v("minOffset")]),v._v(" "),t("p",[t("code",[v._v("public long minOffset(MessageQueue mq)")])]),v._v(" "),t("p",[v._v("查询给定消息队列的最小物理偏移量。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("MessageQueue")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("要查询的消息队列")])])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("给定消息队列的最小物理偏移量。")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - 生产者状态非Running；没有找到broker；broker返回失败；网络异常；线程中断等客户端异常。")])])])]),v._v(" "),t("li",[t("p",[v._v("queryMessage")]),v._v(" "),t("p",[t("code",[v._v("public QueryResult queryMessage(String topic, String key, int maxNum, long begin, long end)")])]),v._v(" "),t("p",[v._v("按关键字查询消息。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("c")]),v._v(" "),t("td",[v._v("String")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")]),v._v(" "),t("tr",[t("td",[v._v("String")]),v._v(" "),t("td",[v._v("否")]),v._v(" "),t("td",[v._v("null")]),v._v(" "),t("td"),v._v(" "),t("td",[v._v("查找的关键字")])]),v._v(" "),t("tr",[t("td",[v._v("um")]),v._v(" "),t("td",[v._v("int")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")]),v._v(" "),t("tr",[t("td",[v._v("n")]),v._v(" "),t("td",[v._v("long")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")]),v._v(" "),t("tr",[t("td",[v._v("long")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("结束时间戳，单位：毫秒")])])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("查询到的消息集合。")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - 生产者状态非Running；没有找到broker；broker返回失败；网络异常等客户端异常客户端异常。"),t("br"),v._v("\nInterruptedException - 线程中断。")])])])]),v._v(" "),t("li",[t("p",[v._v("searchOffset")]),v._v(" "),t("p",[t("code",[v._v("public long searchOffset(MessageQueue mq, long timestamp)")])]),v._v(" "),t("p",[v._v("查找指定时间的消息队列的物理偏移量。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("MessageQueue")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("要查询的消息队列。")])]),v._v(" "),t("tr",[t("td",[v._v("stamp")]),v._v(" "),t("td",[v._v("long")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("指定时间的消息队列的物理偏移量。")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - 生产者状态非Running；没有找到broker；broker返回失败；网络异常；线程中断等客户端异常。")])])])]),v._v(" "),t("li",[t("p",[v._v("send")]),v._v(" "),t("p",[t("code",[v._v("public SendResult send(Collection<Message> msgs)")])]),v._v(" "),t("p",[v._v("同步批量发送消息。在返回发送失败之前，内部尝试重新发送消息的最大次数（参见"),t("em",[v._v("retryTimesWhenSendFailed")]),v._v("属性）。未明确指定发送队列，默认采取轮询策略发送。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("Collection<Message>")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待发送的消息集合。集合内的消息必须属同一个topic。")])])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("批量消息的发送结果，包含msgId，发送状态等信息。")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - broker不存在或未找到；namesrv地址为空；未找到topic的路由信息等客户端异常。"),t("br"),v._v("\nRemotingException - 网络异常。"),t("br"),v._v("\nMQBrokerException - broker发生错误。"),t("br"),v._v("\nInterruptedException - 发送线程中断。"),t("br"),v._v("\nRemotingTooMuchRequestException - 发送超时。")])])])]),v._v(" "),t("li",[t("p",[v._v("send")]),v._v(" "),t("p",[t("code",[v._v("public SendResult send(Collection<Message> msgs, long timeout)")])]),v._v(" "),t("p",[v._v("同步批量发送消息，如果在指定的超时时间内未完成消息投递，会抛出"),t("em",[v._v("RemotingTooMuchRequestException")]),v._v("。\n在返回发送失败之前，内部尝试重新发送消息的最大次数（参见"),t("em",[v._v("retryTimesWhenSendFailed")]),v._v("属性）。未明确指定发送队列，默认采取轮询策略发送。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("Collection<Message>")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待发送的消息集合。集合内的消息必须属同一个topic。")])]),v._v(" "),t("tr",[t("td",[v._v("out")]),v._v(" "),t("td",[v._v("long")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td",[v._v("参见"),t("em",[v._v("sendMsgTimeout")]),v._v("属性")]),v._v(" "),t("td")])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("批量消息的发送结果，包含msgId，发送状态等信息。")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - broker不存在或未找到；namesrv地址为空；未找到topic的路由信息等客户端异常。"),t("br"),v._v("\nRemotingException - 网络异常。"),t("br"),v._v("\nMQBrokerException - broker发生错误。"),t("br"),v._v("\nInterruptedException - 发送线程中断。"),t("br"),v._v("\nRemotingTooMuchRequestException - 发送超时。")])])])]),v._v(" "),t("li",[t("p",[v._v("send")]),v._v(" "),t("p",[t("code",[v._v("public SendResult send(Collection<Message> msgs, MessageQueue messageQueue)")])]),v._v(" "),t("p",[v._v("向给定队列同步批量发送消息。")]),v._v(" "),t("p",[v._v("注意：指定队列意味着所有消息均为同一个topic。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("Collection<Message>")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待发送的消息集合。集合内的消息必须属同一个topic。")])]),v._v(" "),t("tr",[t("td",[v._v("ageQueue")]),v._v(" "),t("td",[v._v("MessageQueue")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("批量消息的发送结果，包含msgId，发送状态等信息。")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - broker不存在或未找到；namesrv地址为空；未找到topic的路由信息等客户端异常。"),t("br"),v._v("\nRemotingException - 网络异常。"),t("br"),v._v("\nMQBrokerException - broker发生错误。"),t("br"),v._v("\nInterruptedException - 发送线程中断。"),t("br"),v._v("\nRemotingTooMuchRequestException - 发送超时。")])])])]),v._v(" "),t("li",[t("p",[v._v("send")]),v._v(" "),t("p",[t("code",[v._v("public SendResult send(Collection<Message> msgs, MessageQueue messageQueue, long timeout)")])]),v._v(" "),t("p",[v._v("向给定队列同步批量发送消息，如果在指定的超时时间内未完成消息投递，会抛出"),t("em",[v._v("RemotingTooMuchRequestException")]),v._v("。")]),v._v(" "),t("p",[v._v("注意：指定队列意味着所有消息均为同一个topic。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("Collection<Message>")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待发送的消息集合。集合内的消息必须属同一个topic。")])]),v._v(" "),t("tr",[t("td",[v._v("out")]),v._v(" "),t("td",[v._v("long")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td",[v._v("参见"),t("em",[v._v("sendMsgTimeout")]),v._v("属性")]),v._v(" "),t("td")]),v._v(" "),t("tr",[t("td",[v._v("ageQueue")]),v._v(" "),t("td",[v._v("MessageQueue")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("批量消息的发送结果，包含msgId，发送状态等信息。")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - broker不存在或未找到；namesrv地址为空；未找到topic的路由信息等客户端异常。"),t("br"),v._v("\nRemotingException - 网络异常。"),t("br"),v._v("\nMQBrokerException - broker发生错误。"),t("br"),v._v("\nInterruptedException - 发送线程中断。"),t("br"),v._v("\nRemotingTooMuchRequestException - 发送超时。")])])])]),v._v(" "),t("li",[t("p",[v._v("send")]),v._v(" "),t("p",[t("code",[v._v("public SendResult send(Message msg)")])]),v._v(" "),t("p",[v._v("以同步模式发送消息，仅当发送过程完全完成时，此方法才会返回。\n在返回发送失败之前，内部尝试重新发送消息的最大次数（参见"),t("em",[v._v("retryTimesWhenSendFailed")]),v._v("属性）。未明确指定发送队列，默认采取轮询策略发送。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("Message")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待发送的消息。")])])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("消息的发送结果，包含msgId，发送状态等信息。")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - broker不存在或未找到；namesrv地址为空；未找到topic的路由信息等客户端异常。"),t("br"),v._v("\nRemotingException - 网络异常。"),t("br"),v._v("\nMQBrokerException - broker发生错误。"),t("br"),v._v("\nInterruptedException - 发送线程中断。"),t("br"),v._v("\nRemotingTooMuchRequestException - 发送超时。")])])])]),v._v(" "),t("li",[t("p",[v._v("send")]),v._v(" "),t("p",[t("code",[v._v("public SendResult send(Message msg, long timeout)")])]),v._v(" "),t("p",[v._v("以同步模式发送消息，如果在指定的超时时间内未完成消息投递，会抛出"),t("em",[v._v("RemotingTooMuchRequestException")]),v._v("。仅当发送过程完全完成时，此方法才会返回。\n在返回发送失败之前，内部尝试重新发送消息的最大次数（参见"),t("em",[v._v("retryTimesWhenSendFailed")]),v._v("属性）。未明确指定发送队列，默认采取轮询策略发送。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("Message")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待发送的消息。")])]),v._v(" "),t("tr",[t("td",[v._v("out")]),v._v(" "),t("td",[v._v("long")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td",[v._v("参见"),t("em",[v._v("sendMsgTimeout")]),v._v("属性")]),v._v(" "),t("td")])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("消息的发送结果，包含msgId，发送状态等信息。")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - broker不存在或未找到；namesrv地址为空；未找到topic的路由信息等客户端异常。"),t("br"),v._v("\nRemotingException - 网络异常。"),t("br"),v._v("\nMQBrokerException - broker发生错误。"),t("br"),v._v("\nInterruptedException - 发送线程中断。"),t("br"),v._v("\nRemotingTooMuchRequestException - 发送超时。")])])])]),v._v(" "),t("li",[t("p",[v._v("send")]),v._v(" "),t("p",[t("code",[v._v("public SendResult send(Message msg, MessageQueue mq)")])]),v._v(" "),t("p",[v._v("向指定的消息队列同步发送单条消息。仅当发送过程完全完成时，此方法才会返回。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("Message")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待发送的消息。")])]),v._v(" "),t("tr",[t("td",[v._v("MessageQueue")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待投递的消息队列。")])])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("消息的发送结果，包含msgId，发送状态等信息。")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - broker不存在或未找到；namesrv地址为空；未找到topic的路由信息等客户端异常。"),t("br"),v._v("\nRemotingException - 网络异常。"),t("br"),v._v("\nMQBrokerException - broker发生错误。"),t("br"),v._v("\nInterruptedException - 发送线程中断。"),t("br"),v._v("\nRemotingTooMuchRequestException - 发送超时。")])])])]),v._v(" "),t("li",[t("p",[v._v("send")]),v._v(" "),t("p",[t("code",[v._v("public SendResult send(Message msg, MessageQueue mq, long timeout)")])]),v._v(" "),t("p",[v._v("向指定的消息队列同步发送单条消息，如果在指定的超时时间内未完成消息投递，会抛出"),t("em",[v._v("RemotingTooMuchRequestException")]),v._v("。仅当发送过程完全完成时，此方法才会返回。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("Message")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待发送的消息。")])]),v._v(" "),t("tr",[t("td",[v._v("out")]),v._v(" "),t("td",[v._v("long")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td",[v._v("参见"),t("em",[v._v("sendMsgTimeout")]),v._v("属性")]),v._v(" "),t("td")]),v._v(" "),t("tr",[t("td",[v._v("MessageQueue")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待投递的消息队列。指定队列意味着待投递消息均为同一个topic。")])])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("消息的发送结果，包含msgId，发送状态等信息。")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - broker不存在或未找到；namesrv地址为空；未找到topic的路由信息等客户端异常。"),t("br"),v._v("\nRemotingException - 网络异常。"),t("br"),v._v("\nMQBrokerException - broker发生错误。"),t("br"),v._v("\nInterruptedException - 发送线程中断。"),t("br"),v._v("\nRemotingTooMuchRequestException - 发送超时。")])])])]),v._v(" "),t("li",[t("p",[v._v("send")]),v._v(" "),t("p",[t("code",[v._v("public void send(Message msg, MessageQueue mq, SendCallback sendCallback)")])]),v._v(" "),t("p",[v._v("向指定的消息队列异步发送单条消息，异步发送调用后直接返回，并在在发送成功或者异常时回调"),t("code",[v._v("sendCallback")]),v._v("，所以异步发送时"),t("code",[v._v("sendCallback")]),v._v("参数不能为null，否则在回调时会抛出"),t("code",[v._v("NullPointerException")]),v._v("。\n异步发送时，在成功发送前，其内部会尝试重新发送消息的最大次数（参见"),t("em",[v._v("retryTimesWhenSendAsyncFailed")]),v._v("属性）。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("Message")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待发送的消息。")])]),v._v(" "),t("tr",[t("td",[v._v("MessageQueue")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待投递的消息队列。指定队列意味着待投递消息均为同一个topic。")])]),v._v(" "),t("tr",[t("td",[v._v("Callback")]),v._v(" "),t("td",[v._v("SendCallback")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("void")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - broker不存在或未找到；namesrv地址为空；未找到topic的路由信息等客户端异常。"),t("br"),v._v("\nRemotingException - 网络异常。"),t("br"),v._v("\nInterruptedException - 发送线程中断。")])])])]),v._v(" "),t("li",[t("p",[v._v("send")]),v._v(" "),t("p",[t("code",[v._v("public void send(Message msg, MessageQueue mq, SendCallback sendCallback, long timeout)")])]),v._v(" "),t("p",[v._v("向指定的消息队列异步发送单条消息，异步发送调用后直接返回，并在在发送成功或者异常时回调"),t("code",[v._v("sendCallback")]),v._v("，所以异步发送时"),t("code",[v._v("sendCallback")]),v._v("参数不能为null，否则在回调时会抛出"),t("code",[v._v("NullPointerException")]),v._v("。\n若在指定时间内消息未发送成功，回调方法会收到"),t("em",[v._v("RemotingTooMuchRequestException")]),v._v("异常。\n异步发送时，在成功发送前，其内部会尝试重新发送消息的最大次数（参见"),t("em",[v._v("retryTimesWhenSendAsyncFailed")]),v._v("属性）。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("Message")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待发送的消息。")])]),v._v(" "),t("tr",[t("td",[v._v("MessageQueue")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待投递的消息队列。")])]),v._v(" "),t("tr",[t("td",[v._v("Callback")]),v._v(" "),t("td",[v._v("SendCallback")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")]),v._v(" "),t("tr",[t("td",[v._v("out")]),v._v(" "),t("td",[v._v("long")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td",[v._v("参见"),t("em",[v._v("sendMsgTimeout")]),v._v("属性")]),v._v(" "),t("td")])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：\nvoid")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - broker不存在或未找到；namesrv地址为空；未找到topic的路由信息等客户端异常。"),t("br"),v._v("\nRemotingException - 网络异常。"),t("br"),v._v("\nInterruptedException - 发送线程中断。")])])])]),v._v(" "),t("li",[t("p",[v._v("send")]),v._v(" "),t("p",[t("code",[v._v("public SendResult send(Message msg, MessageQueueSelector selector, Object arg)")])]),v._v(" "),t("p",[v._v("向通过"),t("code",[v._v("MessageQueueSelector")]),v._v("计算出的队列同步发送消息。")]),v._v(" "),t("p",[v._v("可以通过自实现"),t("code",[v._v("MessageQueueSelector")]),v._v("接口，将某一类消息发送至固定的队列。比如：将同一个订单的状态变更消息投递至固定的队列。")]),v._v(" "),t("p",[v._v("注意：此消息发送失败内部不会重试。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("Message")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待发送的消息。")])]),v._v(" "),t("tr",[t("td",[v._v("ctor")]),v._v(" "),t("td",[v._v("MessageQueueSelector")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")]),v._v(" "),t("tr",[t("td",[v._v("Object")]),v._v(" "),t("td",[v._v("否")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("供队列选择器使用的参数对象。")])])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("消息的发送结果，包含msgId，发送状态等信息。")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - broker不存在或未找到；namesrv地址为空；未找到topic的路由信息等客户端异常。"),t("br"),v._v("\nRemotingException - 网络异常。"),t("br"),v._v("\nMQBrokerException - broker发生错误。"),t("br"),v._v("\nInterruptedException - 发送线程中断。"),t("br"),v._v("\nRemotingTooMuchRequestException - 发送超时。")])])])]),v._v(" "),t("li",[t("p",[v._v("send")]),v._v(" "),t("p",[t("code",[v._v("public SendResult send(Message msg, MessageQueueSelector selector, Object arg, long timeout)")])]),v._v(" "),t("p",[v._v("向通过"),t("code",[v._v("MessageQueueSelector")]),v._v("计算出的队列同步发送消息，并指定发送超时时间。")]),v._v(" "),t("p",[v._v("可以通过自实现"),t("code",[v._v("MessageQueueSelector")]),v._v("接口，将某一类消息发送至固定的队列。比如：将同一个订单的状态变更消息投递至固定的队列。")]),v._v(" "),t("p",[v._v("注意：此消息发送失败内部不会重试。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("Message")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待发送的消息。")])]),v._v(" "),t("tr",[t("td",[v._v("ctor")]),v._v(" "),t("td",[v._v("MessageQueueSelector")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")]),v._v(" "),t("tr",[t("td",[v._v("Object")]),v._v(" "),t("td",[v._v("否")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("供队列选择器使用的参数对象。")])]),v._v(" "),t("tr",[t("td",[v._v("out")]),v._v(" "),t("td",[v._v("long")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td",[v._v("参见"),t("em",[v._v("sendMsgTimeout")]),v._v("属性")]),v._v(" "),t("td")])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("消息的发送结果，包含msgId，发送状态等信息。")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：\nMQClientException - broker不存在或未找到；namesrv地址为空；未找到topic的路由信息等客户端异常。"),t("br"),v._v("\nRemotingException - 网络异常。"),t("br"),v._v("\nMQBrokerException - broker发生错误。"),t("br"),v._v("\nInterruptedException - 发送线程中断。"),t("br"),v._v("\nRemotingTooMuchRequestException - 发送超时。")])])])]),v._v(" "),t("li",[t("p",[v._v("send")]),v._v(" "),t("p",[t("code",[v._v("public void send(Message msg, MessageQueueSelector selector, Object arg, SendCallback sendCallback)")])]),v._v(" "),t("p",[v._v("向通过"),t("code",[v._v("MessageQueueSelector")]),v._v("计算出的队列异步发送单条消息，异步发送调用后直接返回，并在在发送成功或者异常时回调"),t("code",[v._v("sendCallback")]),v._v("，所以异步发送时"),t("code",[v._v("sendCallback")]),v._v("参数不能为null，否则在回调时会抛出"),t("code",[v._v("NullPointerException")]),v._v("。\n异步发送时，在成功发送前，其内部会尝试重新发送消息的最大次数（参见"),t("em",[v._v("retryTimesWhenSendAsyncFailed")]),v._v("属性）。")]),v._v(" "),t("p",[v._v("可以通过自实现"),t("code",[v._v("MessageQueueSelector")]),v._v("接口，将某一类消息发送至固定的队列。比如：将同一个订单的状态变更消息投递至固定的队列。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("Message")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待发送的消息。")])]),v._v(" "),t("tr",[t("td",[v._v("ctor")]),v._v(" "),t("td",[v._v("MessageQueueSelector")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")]),v._v(" "),t("tr",[t("td",[v._v("Object")]),v._v(" "),t("td",[v._v("否")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("供队列选择器使用的参数对象。")])]),v._v(" "),t("tr",[t("td",[v._v("Callback")]),v._v(" "),t("td",[v._v("SendCallback")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("void")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - broker不存在或未找到；namesrv地址为空；未找到topic的路由信息等客户端异常。"),t("br"),v._v("\nRemotingException - 网络异常。"),t("br"),v._v("\nInterruptedException - 发送线程中断。")])])])]),v._v(" "),t("li",[t("p",[v._v("send")]),v._v(" "),t("p",[t("code",[v._v("public void send(Message msg, MessageQueueSelector selector, Object arg, SendCallback sendCallback, long timeout)")])]),v._v(" "),t("p",[v._v("向通过"),t("code",[v._v("MessageQueueSelector")]),v._v("计算出的队列异步发送单条消息，异步发送调用后直接返回，并在在发送成功或者异常时回调"),t("code",[v._v("sendCallback")]),v._v("，所以异步发送时"),t("code",[v._v("sendCallback")]),v._v("参数不能为null，否则在回调时会抛出"),t("code",[v._v("NullPointerException")]),v._v("。\n异步发送时，在成功发送前，其内部会尝试重新发送消息的最大次数（参见"),t("em",[v._v("retryTimesWhenSendAsyncFailed")]),v._v("属性）。")]),v._v(" "),t("p",[v._v("可以通过自实现"),t("code",[v._v("MessageQueueSelector")]),v._v("接口，将某一类消息发送至固定的队列。比如：将同一个订单的状态变更消息投递至固定的队列。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("Message")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待发送的消息。")])]),v._v(" "),t("tr",[t("td",[v._v("ctor")]),v._v(" "),t("td",[v._v("MessageQueueSelector")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")]),v._v(" "),t("tr",[t("td",[v._v("Object")]),v._v(" "),t("td",[v._v("否")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("供队列选择器使用的参数对象。")])]),v._v(" "),t("tr",[t("td",[v._v("Callback")]),v._v(" "),t("td",[v._v("SendCallback")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")]),v._v(" "),t("tr",[t("td",[v._v("out")]),v._v(" "),t("td",[v._v("long")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td",[v._v("参见"),t("em",[v._v("sendMsgTimeout")]),v._v("属性")]),v._v(" "),t("td")])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("void")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - broker不存在或未找到；namesrv地址为空；未找到topic的路由信息等客户端异常。"),t("br"),v._v("\nRemotingException - 网络异常。"),t("br"),v._v("\nInterruptedException - 发送线程中断。")])])])]),v._v(" "),t("li",[t("p",[v._v("send")]),v._v(" "),t("p",[t("code",[v._v("public void send(Message msg, SendCallback sendCallback)")])]),v._v(" "),t("p",[v._v("异步发送单条消息，异步发送调用后直接返回，并在在发送成功或者异常时回调"),t("code",[v._v("sendCallback")]),v._v("，所以异步发送时"),t("code",[v._v("sendCallback")]),v._v("参数不能为null，否则在回调时会抛出"),t("code",[v._v("NullPointerException")]),v._v("。\n异步发送时，在成功发送前，其内部会尝试重新发送消息的最大次数（参见"),t("em",[v._v("retryTimesWhenSendAsyncFailed")]),v._v("属性）。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("Message")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待发送的消息。")])]),v._v(" "),t("tr",[t("td",[v._v("Callback")]),v._v(" "),t("td",[v._v("SendCallback")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("void")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - broker不存在或未找到；namesrv地址为空；未找到topic的路由信息等客户端异常。"),t("br"),v._v("\nRemotingException - 网络异常。"),t("br"),v._v("\nInterruptedException - 发送线程中断。")])])])]),v._v(" "),t("li",[t("p",[v._v("send")]),v._v(" "),t("p",[t("code",[v._v("public void send(Message msg, SendCallback sendCallback, long timeout)")])]),v._v(" "),t("p",[v._v("异步发送单条消息，异步发送调用后直接返回，并在在发送成功或者异常时回调"),t("code",[v._v("sendCallback")]),v._v("，所以异步发送时"),t("code",[v._v("sendCallback")]),v._v("参数不能为null，否则在回调时会抛出"),t("code",[v._v("NullPointerException")]),v._v("。\n异步发送时，在成功发送前，其内部会尝试重新发送消息的最大次数（参见"),t("em",[v._v("retryTimesWhenSendAsyncFailed")]),v._v("属性）。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("Message")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待发送的消息。")])]),v._v(" "),t("tr",[t("td",[v._v("Callback")]),v._v(" "),t("td",[v._v("SendCallback")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")]),v._v(" "),t("tr",[t("td",[v._v("out")]),v._v(" "),t("td",[v._v("long")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td",[v._v("参见"),t("em",[v._v("sendMsgTimeout")]),v._v("属性")]),v._v(" "),t("td")])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("void")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - broker不存在或未找到；namesrv地址为空；未找到topic的路由信息等客户端异常。"),t("br"),v._v("\nRemotingException - 网络异常。"),t("br"),v._v("\nInterruptedException - 发送线程中断。")])])])]),v._v(" "),t("li",[t("p",[v._v("sendMessageInTransaction")]),v._v(" "),t("p",[t("code",[v._v("public TransactionSendResult sendMessageInTransaction(Message msg, LocalTransactionExecuter tranExecuter, final Object arg)")])]),v._v(" "),t("p",[v._v("发送事务消息。该类不做默认实现，抛出"),t("code",[v._v("RuntimeException")]),v._v("异常。参见："),t("code",[v._v("TransactionMQProducer")]),v._v("类。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("Message")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待投递的事务消息")])]),v._v(" "),t("tr",[t("td",[v._v("Executer")]),v._v(" "),t("td",[t("code",[v._v("LocalTransactionExecuter")])]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")]),v._v(" "),t("tr",[t("td",[v._v("Object")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("供本地事务执行程序使用的参数对象")])])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("事务结果，参见："),t("code",[v._v("LocalTransactionState")]),v._v("类。")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("RuntimeException - 永远抛出该异常。")])])])]),v._v(" "),t("li",[t("p",[v._v("sendMessageInTransaction")]),v._v(" "),t("p",[t("code",[v._v("public TransactionSendResult sendMessageInTransaction(Message msg, final Object arg)")])]),v._v(" "),t("p",[v._v("发送事务消息。该类不做默认实现，抛出"),t("code",[v._v("RuntimeException")]),v._v("异常。参见："),t("code",[v._v("TransactionMQProducer")]),v._v("类。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("Message")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待投递的事务消息")])]),v._v(" "),t("tr",[t("td",[v._v("Object")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("供本地事务执行程序使用的参数对象")])])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("事务结果，参见："),t("code",[v._v("LocalTransactionState")]),v._v("类。")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("RuntimeException - 永远抛出该异常。")])])])]),v._v(" "),t("li",[t("p",[v._v("sendOneway")]),v._v(" "),t("p",[t("code",[v._v("public void sendOneway(Message msg)")])]),v._v(" "),t("p",[v._v("以oneway形式发送消息，broker不会响应任何执行结果，和"),t("a",{attrs:{href:"https://en.wikipedia.org/wiki/User_Datagram_Protocol",target:"_blank",rel:"noopener noreferrer"}},[v._v("UDP"),t("OutboundLink")],1),v._v("类似。它具有最大的吞吐量但消息可能会丢失。")]),v._v(" "),t("p",[v._v("可在消息量大，追求高吞吐量并允许消息丢失的情况下使用该方式。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("Message")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待投递的消息")])])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("void")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - broker不存在或未找到；namesrv地址为空；未找到topic的路由信息等客户端异常。"),t("br"),v._v("\nRemotingException - 网络异常。"),t("br"),v._v("\nInterruptedException - 发送线程中断。")])])])]),v._v(" "),t("li",[t("p",[v._v("sendOneway")]),v._v(" "),t("p",[t("code",[v._v("public void sendOneway(Message msg, MessageQueue mq)")])]),v._v(" "),t("p",[v._v("向指定队列以oneway形式发送消息，broker不会响应任何执行结果，和"),t("a",{attrs:{href:"https://en.wikipedia.org/wiki/User_Datagram_Protocol",target:"_blank",rel:"noopener noreferrer"}},[v._v("UDP"),t("OutboundLink")],1),v._v("类似。它具有最大的吞吐量但消息可能会丢失。")]),v._v(" "),t("p",[v._v("可在消息量大，追求高吞吐量并允许消息丢失的情况下使用该方式。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("Message")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待投递的消息")])]),v._v(" "),t("tr",[t("td",[v._v("MessageQueue")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待投递的消息队列")])])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：\nvoid")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：\nMQClientException - broker不存在或未找到；namesrv地址为空；未找到topic的路由信息等客户端异常。"),t("br"),v._v("\nRemotingException - 网络异常。"),t("br"),v._v("\nInterruptedException - 发送线程中断。")])])])]),v._v(" "),t("li",[t("p",[v._v("sendOneway")]),v._v(" "),t("p",[t("code",[v._v("public void sendOneway(Message msg, MessageQueueSelector selector, Object arg)")])]),v._v(" "),t("p",[v._v("向通过"),t("code",[v._v("MessageQueueSelector")]),v._v("计算出的队列以oneway形式发送消息，broker不会响应任何执行结果，和"),t("a",{attrs:{href:"https://en.wikipedia.org/wiki/User_Datagram_Protocol",target:"_blank",rel:"noopener noreferrer"}},[v._v("UDP"),t("OutboundLink")],1),v._v("类似。它具有最大的吞吐量但消息可能会丢失。")]),v._v(" "),t("p",[v._v("可在消息量大，追求高吞吐量并允许消息丢失的情况下使用该方式。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("Message")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("待发送的消息。")])]),v._v(" "),t("tr",[t("td",[v._v("ctor")]),v._v(" "),t("td",[v._v("MessageQueueSelector")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")]),v._v(" "),t("tr",[t("td",[v._v("Object")]),v._v(" "),t("td",[v._v("否")]),v._v(" "),t("td"),v._v(" "),t("td"),v._v(" "),t("td",[v._v("供队列选择器使用的参数对象。")])])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("void")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - broker不存在或未找到；namesrv地址为空；未找到topic的路由信息等客户端异常。"),t("br"),v._v("\nRemotingException - 网络异常。"),t("br"),v._v("\nInterruptedException - 发送线程中断。")])])])]),v._v(" "),t("li",[t("p",[v._v("shutdown")]),v._v(" "),t("p",[t("code",[v._v("public void shutdown()")])]),v._v(" "),t("p",[v._v("关闭当前生产者实例并释放相关资源。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("p",[v._v("无。")])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("void")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")])])])]),v._v(" "),t("li",[t("p",[v._v("start")]),v._v(" "),t("p",[t("code",[v._v("public void start()")])]),v._v(" "),t("p",[v._v("启动生产者实例。在发送或查询消息之前必须调用此方法。它执行了许多内部初始化，比如：检查配置、与namesrv建立连接、启动一系列心跳等定时任务等。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("p",[v._v("无。")])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("void")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("MQClientException - 初始化过程中出现失败。")])])])]),v._v(" "),t("li",[t("p",[v._v("viewMessage")]),v._v(" "),t("p",[t("code",[v._v("public MessageExt viewMessage(String offsetMsgId)")])]),v._v(" "),t("p",[v._v("根据给定的msgId查询消息。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("etMsgId")]),v._v(" "),t("td",[v._v("String")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("返回"),t("code",[v._v("MessageExt")]),v._v("，包含：topic名称，消息题，消息ID，消费次数，生产者host等信息。")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("RemotingException - 网络层发生错误。"),t("br"),v._v("\nMQBrokerException - broker发生错误。"),t("br"),v._v("\nInterruptedException - 线程被中断。"),t("br"),v._v("\nMQClientException - 生产者状态非Running；msgId非法等。")])])])]),v._v(" "),t("li",[t("p",[v._v("viewMessage")]),v._v(" "),t("p",[t("code",[v._v("public MessageExt viewMessage(String topic, String msgId)")])]),v._v(" "),t("p",[v._v("根据给定的msgId查询消息，并指定topic。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("入参描述：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("类型")]),v._v(" "),t("th",[v._v("是否必须")]),v._v(" "),t("th",[v._v("默认值")]),v._v(" "),t("th",[v._v("值范围")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("d")]),v._v(" "),t("td",[v._v("String")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")]),v._v(" "),t("tr",[t("td",[v._v("c")]),v._v(" "),t("td",[v._v("String")]),v._v(" "),t("td",[v._v("是")]),v._v(" "),t("td"),v._v(" "),t("td")])])])]),v._v(" "),t("li",[t("p",[v._v("返回值描述：")]),v._v(" "),t("p",[v._v("返回"),t("code",[v._v("MessageExt")]),v._v("，包含：topic名称，消息题，消息ID，消费次数，生产者host等信息。")])]),v._v(" "),t("li",[t("p",[v._v("异常描述：")]),v._v(" "),t("p",[v._v("RemotingException - 网络层发生错误。"),t("br"),v._v("\nMQBrokerException - broker发生错误。"),t("br"),v._v("\nInterruptedException - 线程被中断。"),t("br"),v._v("\nMQClientException - 生产者状态非Running；msgId非法等。")])])])])])])}),[],!1,null,null,null);_.default=n.exports}}]);